# :truck: Desafio T√©cnico Backend Spring Boot - Frete Mais

## üìÉ Descri√ß√£o
Este projeto √© uma aplica√ß√£o de gerenciamento de Entregas e Usu√°rios, onde √© poss√≠vel cadastrar, listar, atualizar e deletar Entregas e Usu√°rios.

## Diagrama de Entidade Relacionamento (DER)

![DER.png](DER.png)

## üîé Documenta√ß√£o Api - Swagger

A documenta√ß√£o da API pode ser acessada atrav√©s do Swagger, que √© uma ferramenta de software usada 
para documentar e consumir servi√ßos da Web RESTful. Para acessar a documenta√ß√£o, basta acessar o link abaixo:

[Documenta√ß√£o API](http://localhost:8080/swagger-ui.html)

OBS: A documenta√ß√£o s√≥ estar√° dispon√≠vel ap√≥s a aplica√ß√£o ser iniciada.

## üõ†Ô∏è Funcionalidades
<details>
    <summary>
        Resumo das funcionalidades dispon√≠veis na API. Clique para expandir.
    </summary>


### Autentica√ß√£o
- **Login**: Autentica um usu√°rio e retorna um token JWT.
  - **Endpoint**: `POST /auth/login`
  - **Request Body**: `LoginDto` (email, password)
  - **Response**: `TokenDto` (token)

### Entregas
- **Listar Entregas**: Retorna uma lista de todas as entregas.
    - **Endpoint**: `GET /deliveries`
    - **Response**: Lista de `DeliveryDto`
    - **Requer Autentica√ß√£o**: Sim(`ADMIN` | `USER`)

- **Buscar Entrega por ID**: Retorna uma entrega espec√≠fica pelo ID.
    - **Endpoint**: `GET /deliveries/{id}`
    - **Response**: `DeliveryDto`
    - **Requer Autentica√ß√£o**: Sim(`ADMIN` | `USER`)

- **Criar Entrega**: Cria uma nova entrega.
    - **Endpoint**: `POST /deliveries`
    - **Request Body**: `DeliveryCreationDto`
    - **Response**: `DeliveryDto`
    - **Requer Autentica√ß√£o**: Sim (`ADMIN`)

- **Atualizar Entrega**: Atualiza uma entrega existente.
    - **Endpoint**: `PUT /deliveries/{id}`
    - **Request Body**: `DeliveryUpdateDto`
    - **Response**: `DeliveryDto`
    - **Requer Autentica√ß√£o**: Sim (`ADMIN`)

- **Atualizar Status da Entrega**: Atualiza o status de uma entrega.
    - **Endpoint**: `PUT /deliveries/{id}/status`
    - **Request Body**: `DeliveryUpdateStatusDto`
    - **Response**: `DeliveryDto`
    - **Requer Autentica√ß√£o**: Sim(`ADMIN` | `USER`)

- **Deletar Entrega**: Deleta uma entrega pelo ID.
    - **Endpoint**: `DELETE /deliveries/{id}`
    - **Requer Autentica√ß√£o**: Sim (`ADMIN`)

### Usu√°rios
- **Listar Usu√°rios**: Retorna uma lista de todos os usu√°rios.
    - **Endpoint**: `GET /users`
    - **Response**: Lista de `UserAdminResponseDto`
    - **Requer Autentica√ß√£o**: Sim (`ADMIN`)

- **Buscar Usu√°rio por ID**: Retorna um usu√°rio espec√≠fico pelo ID.
    - **Endpoint**: `GET /users/{id}`
    - **Response**: `UserDto`
    - **Requer Autentica√ß√£o**: Sim(`ADMIN` | `USER`)

- **Criar Usu√°rio**: Cria um novo usu√°rio.
    - **Endpoint**: `POST /users`
    - **Request Body**: `UserCreationDto`
    - **Response**: `UserDto`

- **Atualizar Usu√°rio**: Atualiza um usu√°rio existente.
    - **Endpoint**: `PUT /users/{id}`
    - **Request Body**: `UserUpdateDto`
    - **Response**: `UserDto`
    - **Requer Autentica√ß√£o**: Sim(`ADMIN` | `USER`)

- **Adicionar Entrega ao Usu√°rio**: Adiciona uma entrega a um usu√°rio.
    - **Endpoint**: `POST /users/{id}/delivery/{deliveryId}`
    - **Response**: `UserDeliveryListDto`
    - **Requer Autentica√ß√£o**: Sim (`ADMIN`)

- **Deletar Usu√°rio**: Deleta um usu√°rio pelo ID.
    - **Endpoint**: `DELETE /users/{id}`
    - **Requer Autentica√ß√£o**: Sim (`ADMIN`)


</details>

## ‚öôÔ∏è Como rodar o projeto

### üîß Pr√©-requisitos
- **Java**: Vers√£o 17
- **Maven**: Vers√£o 3.8.1 ou superior
- **Docker**: Vers√£o 20.10.0 ou superior
- **Docker Compose**: Vers√£o 1.27.0 ou superior

### Usando Docker Compose para criar container do MySQL

1. Clone o reposit√≥rio:
    ```sh
    git clone <URL_DO_REPOSITORIO>
    ```
2. Navegue at√© o diret√≥rio do projeto:
    ```sh
    cd <DIRETORIO_DO_PROJETO>
    ```
3. Rode o Docker Compose:
    ```sh
    docker-compose up -d
    ```

### Usando Maven
1. Clone o reposit√≥rio:
   ```sh
   git clone <URL_DO_REPOSITORIO>
    ```
2. Navegue at√© o diret√≥rio do projeto:
   ```sh
    cd <DIRETORIO_DO_PROJETO>
    ```
3. Compile e rode o projeto usando Maven:
    ```sh
    mvn spring-boot:run
    ```

## üì¶ Depend√™ncias utilizadas
- Spring Boot Starter Web
- Spring Boot Starter Data JPA
- MySQL Connector/J
- Spring Boot DevTools
- Spring Boot Starter Actuator
- Java JWT
- Spring Boot Starter Security
- Spring Security Test
- Spring Boot Starter
- Spring Boot Starter Test
- H2 Database
- JUnit Jupiter

## üë§ Autor

- [@Murilo-MRS](https://github.com/Murilo-MRS)
